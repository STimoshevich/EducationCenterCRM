@using EducationCenterCRM.Services.BLL;
@using EducationCenterCRM.DAL.Entities
@inject GroupService groupService
@model Student

<div class="container">
    <div class="row">

        <h1>Student info:</h1>
      
        <form id="StudentInfoForm">
            <div class="validation text-danger" asp-validation-summary="All"></div>
            <div class="input-group mb-3">
                <label asp-for="Id" class="input-group-text"></label>
                <input type="text" class="form-control" asp-for="Id" aria-describedby="basic-addon1" value="@Model.Id" readonly>
            </div>
            <div class="input-group mb-3">
                <label asp-for="Name" class="input-group-text"></label>
                <input type="text" class="form-control" asp-for="Name" aria-describedby="basic-addon1" value="@Model.Name">
            </div>
            <div class="input-group mb-3">
                <label asp-for="Lastname" class="input-group-text"></label>
                <input type="text" class="form-control" asp-for="Lastname" aria-describedby="basic-addon1" value="@Model.Lastname">
            </div>
            <div class="input-group mb-3">
                <label asp-for="BirthDate" class="input-group-text"></label>
                <input type="text" class="form-control" asp-for="BirthDate" aria-describedby="basic-addon1" value="@Model.BirthDate.ToString("d")">
            </div>
            <div class="input-group mb-3">
                <label asp-for="Email" class="input-group-text"></label>
                <input type="text" class="form-control" asp-for="Email" aria-describedby="basic-addon1" value="@Model.Email">
            </div>
            <div class="input-group mb-3">
                <label asp-for="Phone" class="input-group-text"></label>
                <input type="text" class="form-control" asp-for="Phone" aria-describedby="basic-addon1" value="@Model.Phone">
            </div>
            <div class="input-group mb-3">
                <label class="input-group-text" for="SelectEducationType">EducationType</label>
                <select class="form-select" id="SelectEducationType" asp-for="Type">
                    @foreach (var EducationType in Enum.GetValues(@Model.Type.GetType()))
                    {
                        <option value="@((int)EducationType)">@EducationType</option>
                    }
                </select>
            </div>
            <div class="input-group mb-3">
                <label class="input-group-text" for="selector_1">Group</label>
                <select class="form-select" id="selector_1" asp-for="GroupId">
                    <option value="@null">Not set</option>
                    @foreach (var group in groupService.GetAllAsync())
                    {
                        <option value="@group.Id">@group.Title</option>
                    }
                </select>
            </div>
            <div class="input-group mb-3">
                <button id="_save_changes" type="button" onclick="updateByForm('StudentInfoForm')" class="btn btn-primary">Save changes</button>
            </div>
        </form>
    </div>

    </div>
